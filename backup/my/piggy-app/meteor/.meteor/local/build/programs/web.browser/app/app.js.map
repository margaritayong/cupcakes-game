{"version":3,"sources":["meteor://ðŸ’»app/client/main.js","meteor://ðŸ’»app/imports/ui/p5/sketch-basic.js","meteor://ðŸ’»app/imports/ui/App.jsx","meteor://ðŸ’»app/imports/api/led.js"],"names":["React","module","watch","require","v","Meteor","render","App","startup","document","getElementById","export","sketch","p5","gridWidth","gridHeight","ledColor","localProps","goalButton","targetGoal","setup","createCanvas","initUI","draw","background","noStroke","textSize","fill","text","drawUI","createButton","position","mousePressed","sendGoal","console","log","myCustomRedrawAccordingToNewPropsHandler","props","Component","PropTypes","P5Wrapper","withTracker","Led","state","led","call","defaultProps","propTypes","array","isRequired","exportDefault","subscribe","find","sort","updatedAt","fetch","Mongo","check","Collection","isServer","publish","ledPublication","methods","pixels"],"mappings":"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","file":"/app.js","sourcesContent":["import React from 'react';\nimport { Meteor } from 'meteor/meteor';\nimport { render } from 'react-dom';\nimport App from '../imports/ui/App.jsx';\n\n \nMeteor.startup(() => {\n  render(<App />, document.getElementById('render-target'));\n});","// pass in p5.js as function argument p5\nexport default function sketch (p5) {\n\n  // display size\n  let gridWidth = 8;\n  let gridHeight = 5;\n\n  // display array -> can be sent to hardware\n  //let ledPixels = []; // updating this to just color for now\n  let ledColor = [\"255\", \"255\", \"255\"];\n\n  let localProps = {};\n\n  // send goal button\n  let goalButton;\n\n  // set goal target\n  let targetGoal = 100;\n\n  p5.setup = function() {\n    p5.createCanvas(300,400);\n\n    // create the UI\n    initUI();\n\n  }\n\n\n  p5.draw = function() {\n    p5.background(255);\n\n    p5.noStroke();\n    p5.textSize(22);\n    p5.fill(0);\n    p5.text(\"What is your goal?\", 10, 30);\n    p5.textSize(12);\n\n    drawUI();\n\n  }\n\n  //\n  // initUI\n  //\n  function initUI() {\n    goalButton = p5.createButton('send goal');\n    goalButton.position(16, 60);\n    goalButton.mousePressed(sendGoal);\n  }\n\n  function sendGoal() {\n    console.log(\"just clicked send goal!\");\n    localProps.sendGoal(targetGoal);\n  }\n\n  //\n  // Draw UI\n  //\n  function drawUI() {\n\n    // temporary UI and text controls\n    p5.fill(255);\n\n\n  }\n\n  // this special function receives data from App.jsx withTracker\n  p5.myCustomRedrawAccordingToNewPropsHandler = function (props) {\n    console.log(\"myCustomRedrawAccordingToNewPropsHandler\", props, localProps);\n\n    if (!localProps.sendGoal) {\n      localProps.sendGoal = props.sendGoal;\n    }\n\n\n  };\n};\n\n\n\n\n\n\n\n\n\n\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport P5Wrapper from 'react-p5-wrapper';\nimport sketch from './p5/sketch-basic.js';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport { Led } from '../api/led.js';\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      led: [],\n    };\n \n  }\n\n\n  // this happens when we click the render display button\n  sendGoal(targetGoal) {\n    console.log('App.jsx received target goal', targetGoal);\n    Meteor.call('send.goal', targetGoal);\n  }\n\n  // render the html to the page\n  render() {\n\n    return (\n      <div className=\"container\">\n        {/*pass the p5 sktech file into the React wrapper\n        also pass the ascii prop which will updated based on withTracker below*/}\n        <P5Wrapper sketch={sketch} sendGoal={this.sendGoal} led={this.props.led} />\n      </div>\n    );\n  }\n}\n\nApp.defaultProps = {\n  led: [],\n};\n\nApp.propTypes = {\n  led: PropTypes.array.isRequired,\n};\n\nexport default withTracker(props => {\n  Meteor.subscribe('led');\n  return {\n    led: Led.find({}, { sort: { updatedAt: -1 } }).fetch()[0],\n  };\n})(App);","import { Mongo } from 'meteor/mongo';\nexport const Led = new Mongo.Collection('led');\nimport { check } from 'meteor/check';\n\n\nif (Meteor.isServer) {\n  // This code only runs on the server\n  Meteor.publish('led', function ledPublication() {\n    return Led.find({});\n  });\n}\n\n// http://docs.meteor.com/api/collections.html#Mongo-Collection-upsert\nMeteor.methods({\n  'led.insert'(pixels) {\n    \n  }\n})"]}